<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ML for Biologists</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Georgia, "Times New Roman", serif;
      background: #fdfdfc;
      color: #222;
    }

    body {
      display: flex;
      overflow: hidden;
    }

    nav {
      width: 260px;
      background: #f5f5f3;
      border-right: 1px solid #ddd;
      padding: 2rem 1.5rem;
      overflow-y: auto;
    }

    nav h2 {
      font-size: 1.2rem;
      margin-top: 0;
    }

    nav a {
      display: block;
      color: #222;
      text-decoration: none;
      margin: 0.6rem 0;
      font-size: 1rem;
    }

    nav a:hover {
      text-decoration: underline;
    }

    #content {
      flex: 1;
      overflow-y: auto;
      display: flex;
      justify-content: center;
    }

    #page {
      max-width: 900px;
      width: 100%;
      padding: 4rem 3rem;
      line-height: 1.7;
    }

    h1 { font-size: 2.5rem; }
    h2 { font-size: 1.9rem; margin-top: 2.5rem; }
    h3 { font-size: 1.4rem; }

    p { font-size: 1.1rem; margin: 1.2rem 0; }

    code {
      background: #f3f3f3;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.95rem;
    }

    pre code {
      display: block;
      padding: 1rem;
      overflow-x: auto;
    }

    @media (max-width: 900px) {
      nav {
        display: none;
      }
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- Syntax highlighting -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
  <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/languages/python.min.js"></script>
</head>
<body>

  <nav>
    <h2>Contents</h2>
    <a href="#" onclick="loadChapter('chapters/chapter1.md')">Chapter 1</a>
    <a href="#" onclick="loadChapter('chapters/chapter2.md')">Chapter 2</a>
  </nav>

  <div id="content">
    <div id="page">Loading chapterâ€¦</div>
  </div>

  <script>
    function loadChapter(file) {
      const base = window.location.pathname.replace(/\/[^/]*$/, '/');
      const url = base + file;

      fetch(url)
        .then(response => {
          if (!response.ok) throw new Error('HTTP ' + response.status);
          return response.text();
        })
        .then(text => {
          document.getElementById('page').innerHTML = marked.parse(text);
          document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightElement(block);
          });
          document.getElementById('content').scrollTop = 0;
        })
        .catch(err => {
          document.getElementById('page').innerHTML = '<p>Failed to load chapter.</p><pre>' + err + '</pre>';
        });
    });
          window.scrollTo(0, 0);
        })
        .catch(() => {
          document.getElementById('page').innerHTML = '<p>Failed to load chapter.</p>';
        });
    }

    // Load first chapter by default
    loadChapter('chapters/chapter1.md');
  </script>

</body>
</html>
